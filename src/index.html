<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="./output.css" rel="stylesheet">
</head>
<body class="bg-black">
 <main>
    <section class="grid grid-cols-1 lg:grid-cols-2 h-screen">
     <div class="bg-black">
      <div class="w-full px-2 py-2 h-auto">
        <img width="210" src="/public/smartcagadgets.png" alt="">
      </div>
       <div class="flex items-center justify-center mt-10">
        <img width="250" src="/public/case.png" alt="">
       </div>
       <div>
        <p class="text-white text-center text-4xl mt-12">        
          Airpods Pro
        </p>
       </div>
     </div>   
     <div class="bg-white p-8">
      <div>
        <p class="font-semibold text-3xl ml-6">
          Experience Premium Sound  <br/>
          at an Unbeatable Price!
        </p>
      </div>
      <div class="flex items-center justify-around mt-8">
        <div class="cursor-pointer">
          <div class="product-card p-2 radius-xl">
          <img width="200"  src="/public/airpodspro.png" alt="">
          </div>
          <p class="m-4 text-center text-base">
           Aipods Pro
          </p>
        </div>
        <div class="cursor-pointer">
          <div class="product-card p-2  radius-xl">
            <img width="200" src="/public/airpodspro.png" alt="">
          </div>
          <p class="m-4  text-center text-base">
            Aipods Pro 2
          </>
        </div>

      </div>
      <div class="flex justify-center mt-4">
        <div class="px-6 py-4 bg-[--gray-faded] rounded-2xl flex flex-col gap-1 w-[530px]">
        <span id="product-title" class="text-lg font-semibold">
        </span>
          <p id="details-features" class="text-sm">
          </p>
      </div>
      </div>
      <div class="flex items-center justify-between mt-6 mx-8">
        <div class="flex items-center gap-4">
          <div>
            <img id="decrease-quantity" src="/public/minus.svg" alt="Decrease Quantity" class="cursor-pointer">
          </div>
          <span id="quantity" class="font-semibold">1</span> <!-- Display initial quantity -->
          <div class="inline-block w-[30px] bg-black rounded-full ml-2 cursor-pointer">
            <img  id="increase-quantity" src="/public/plus.svg" alt="Increase Quantity">
          </div>
        </div>
        <div>
          <span id="details-price" class="text-lg font-semibold"></span>
        </div>
      </div>
      

      <div class=" flex items-center  justify-center mt-12" >
        <span
        class="bg-black text-center text-sm text-[--white-faded] w-[510px] h-10 rounded-lg flex items-center justify-center">
        Order Now
      </span>
      </div>
     </div>


    </section>
 </main>
 <script type="module">
 import AirpodsProductsData from '../data/AirpodsData.js';

const productTitle = document.querySelector("#product-title");
const productFeatures = document.querySelector("#details-features");
const productPrice = document.querySelector("#details-price");

const productCards = document.querySelectorAll(".product-card");

let quantity = 1; 

const getCleanPrice = (priceString) => {
  return parseInt(priceString.replace(/[,/=\s]/g, ""), 10);
};

const updateProductDetails = (index) => {
  const product = AirpodsProductsData[index];
  productTitle.textContent = product.name;
  productFeatures.innerHTML = product.features.map((f) => `${f}<br>`).join("");
  const cleanPrice = getCleanPrice(product.price);
  productPrice.textContent = `Tsh ${cleanPrice * quantity}`;
};

const updatePrice = () => {
  const activeIndex = Array.from(productCards).findIndex((card) =>
    card.classList.contains("active")
  );
  const product = AirpodsProductsData[activeIndex];
  const cleanPrice = getCleanPrice(product.price);
  productPrice.textContent = `Tsh ${cleanPrice * quantity}`;
};

document.getElementById("increase-quantity").addEventListener("click", () => {
  quantity++;
  document.getElementById("quantity").textContent = quantity; 
  updatePrice(); 
});

document.getElementById("decrease-quantity").addEventListener("click", () => {
  if (quantity > 1) {
    quantity--;
    document.getElementById("quantity").textContent = quantity; 
    updatePrice();
  }
});

productCards.forEach((card, index) => {
  if (index === 0) {
    card.classList.add("active");
    updateProductDetails(index);
  }

  card.addEventListener("click", () => {
    productCards.forEach((c) => c.classList.remove("active"));
    card.classList.add("active");
    updateProductDetails(index);
  });
});

</script>



</body>
</html>